<!-- TODO form validation -->
<div class="row proposal" ng-repeat="proposal in newProposals track by $index">
	<div class="col-sm-12">
		<form>
			<h3>Create New Position</h3>
			<div class="form-group">
				<label for="exampleInputEmail1">Position Name</label>
				<input ng-model="proposal.name" type="text" class="form-control" id="exampleInputTitle1" placeholder="Position Name"  required>
			</div>
			<div class="form-group">
				<label for="exampleInputPassword1">Position Description</label>
				<textarea ng-model="proposal.description" class="form-control" rows="2" style="resize: none;"></textarea>
			</div>
			<button type="submit" class="btn btn-primary" ng-click="createProposal(proposal)">Create Proposal</button>
			<button type="reset" class="btn btn-default" ng-click="cancel()">Cancel</button>
		</form>
	</div>
</div>

<div class="panel panel-default">
	<div class="panel-heading"><network-stats></network-stats></div>
	<div class="row">
		<div class="col-sm-12">
			<ul class="list-group">
				<li class="list-group-item proposal" ng-repeat="proposal in proposals track by $index">
					<h3 class="">{{ proposal['title'] }}</h3>
					<p class="description">{{ proposal['desc'] }}</p>
					<br>
					<div id="voteButtons">
						<button type="button" id="testBtn" class="btn btn-success glyphicon glyphicon-thumbs-up" ng-click="vote(proposal['sigAddr'], true)"> <span>{{proposal['pro']}} Yay</span></button>
						<button type="button" id="testBtnDown" class="btn btn-danger glyphicon glyphicon-thumbs-down" ng-click="vote( proposal['sigAddr'], false)"> <span>{{ proposal['against'] }} Nay</span></button>
					</div>
					<br>
					<div class="progress">
						<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{ proposal['percent'][0] }}%">Yay {{ proposal['percent'][0] }}% 
						</div>
						<div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: {{ proposal['percent'][1] }}%">Nay {{ proposal['percent'][1] }}% 
						</div>

					</div>
					<p class="description light">Submitted by {{proposal['regAddr']}}</p>
				</li>
			</ul>
		</div>
	</div>
</div>